# target_version:
# rubocop v0.45.0
inherit_from: ../ruby/rubocop.yml

require:
  - rubocop-rspec
  - sgcop

# 自動生成されるものなどはチェック対象から除外する
AllCops:
  Exclude:
    - 'bin/*'
    - 'config/application.rb'
    - 'config/backup.rb'
    - 'config/environments/*'
    - 'config/initializers/*'
    - 'config/unicorn.rb'
    - 'config/spring.rb'
    - 'config/puma.rb'
    - 'config.ru'
    - 'db/migrate/*'
    - 'db/schema.rb'
    - 'deploy/*'
    - 'node_modules/**/*' # .specというファイルがrpsecのチェックでヒットしてしまうので
    - 'spec/rails_helper.rb'
    - 'spec/spec_helper.rb'
    - "vendor/**/*"

Rails:
  Enabled: true

# ARオブジェクトのuniqを取りたいわけでなく、特定の属性のuniqが取りたい場合でも警告が出るので
Rails/UniqBeforePluck:
  Enabled: false

# ============================================================
# Metrics
# ============================================================
# routes, rake, rspecはブロックが致し方ない
Metrics/BlockLength:
  Exclude:
    - 'config/routes.rb'
    - 'lib/tasks/**/*.rake'
    - 'spec/**/*'

# ============================================================
# Style
# ============================================================

# メールの{|format| format.text}みたいなのはひっかけたくない
Style/SymbolProc:
  Exclude:
    - 'app/mailers/**/*'

# def show;endって書き方読みやすいとは思わない
Style/EmptyMethod:
  Enabled: false

# ============================================================
# RSpec
# ============================================================
# backgroundとかであるクラスの全インスタンスをstubしてるなど意図してやると思うので
RSpec/AnyInstance:
  Enabled: false

# 以下のようなもので引っかかってしまって困るので
# describe GuestTicket do
#   describe '#save' do
#     let!(:guest_ticket) {
#       GuestTicket.new schedule, guest_ticket_params
#     }
RSpec/DescribedClass:
  Enabled: false

# 厳密にテストしたい場合に複数条件を入れるのはよいかと
RSpec/MultipleExpectations:
  Enabled: false

# feature specで長くなるので
RSpec/ExampleLength:
  Enabled: false

# 自動生成されて中身が空のままコミットすることはある
RSpec/EmptyExampleGroup:
  Enabled: false
